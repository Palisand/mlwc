{% extends 'layout.html' %}

{% block content %}

<h1>Articles</h1>

{% if current_user.is_authenticated() %}
    <p>
        <a href="{{ url_for('add_article') }}">Add New</a>
    </p>
{% endif %}

<ul style="list-style-type: none; padding-left: 1em;">
    {% for article in articles %}
        <li style="overflow: hidden;">
            <div style="float: left; width: 5em;">
                {{ article.created_at.strftime('%Y-%m-%d') }}
            </div>
            <div style="overflow: hidden;">
                <a {% if article.pdf_src %}
                    target="_blank" href="{{ url_for('static', filename='pdf/' ~ article.pdf_src) }}"
                {% else %}
                    href="{{ url_for('articles', article_id=article.id) }}"
                {% endif %}>
                    {% if article.type == 'text_only'%}
                        <i class="fa fa-align-left" style="width: 1.5em"></i>
                    {% elif article.type == 'images' %}
                        <i class="fa fa-picture-o" style="width: 1.5em"></i>
                    {% elif article.type == 'video' %}
                        <i class="fa fa-video-camera" style="width: 1.5em"></i>
                    {% elif article.type == 'pdf' %}
                        <i class="fa fa-file-pdf-o" style="width: 1.5em"></i>
                    {% endif %}
                    {{ article.title }}
                </a>
            </div>
        </li>
    {% endfor %}
</ul>

{% endblock %}